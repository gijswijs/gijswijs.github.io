<!DOCTYPE html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=description content=""><link rel="shortcut icon" href=/favicon.ico><link rel=apple-touch-icon sizes=57x57 href=/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/apple-icon-180x180.png><link rel=icon type=image/png sizes=192x192 href=/android-icon-192x192.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><meta name=msapplication-TileColor content=#ffffff><meta name=msapplication-TileImage content=/ms-icon-144x144.png><meta name=theme-color content=#ffffff><title>SSH keybased authentication Windows to Linux</title><link href=/styles/main.css rel=stylesheet><link rel=webmention href=https://webmention.io/www.gijsvandam.nl/webmention><link rel=pingback href=https://webmention.io/www.gijsvandam.nl/xmlrpc></head><body class=article><header>Gijs van Dam<nav><ul><li><a href=/ title=Home>Home</a></li><li><a href=/pages/research title=Research>Research</a></li><li><a href=/pages/opensource title="Open Source">Open Source</a></li><li><a href=/pages/ventures title=Ventures>Ventures</a></li><li><a href=/pages/resume title=Resume>Resume</a></li><li><a href=/pages/about title=About>About</a></li><li><a href=/pages/now title=Now>Now</a></li><li><a href=/pages/contact title=Contact>Contact</a></li></ul></nav></header><main><article class=h-entry><header><h1 class=p-name>SSH keybased authentication Windows to Linux</h1><span><a class=u-url href=/posts/ssh-keybased-authentication-windows-to-linux><time class=dt-published datetime=2020-11-20>November 20, 2020</time></a> <span class=reading-time>2 minute read</span></span><ul><li><a href=/topics/ssh/ >ssh</a></li><li><a href=/topics/vscode/ >vscode</a></li></ul></header><section class=e-content><p>I do most of my development on a remote machine. The machine isn&#39;t <em>that</em> remote, it&#39;s a mini-pc running Ubuntu that is standing right here on my desk. It has no peripherals, so I have to do all my development remotely through my Windows 10 laptop.</p><p>Remote development with Vscode is amazing. It just works. Once you are set up, there&#39;s no difference with working locally. To have that seamless experience you do have to set up keybased authentication for SSH. If you don&#39;t you will be constantly reminded of working remotely, because you have to type in the password of the remote machine.</p><p>Configuring keybased authentication is <a href=https://code.visualstudio.com/docs/remote/troubleshooting#_configuring-key-based-authentication>documented</a>, but yesterday I had to go through it again, and it confused me...again. So this is my go at explaining it less confusing for the specific case of working on a <em>local Windows machine</em> and connecting to a <em>remote Linux machine</em>. So open up that PowerShell and let&#39;s start.</p><p>Install the OpenSSH client if you haven&#39;t already. It is a optional feature of Windows 10. Search for &#39;Manage Optional Features&#39; in the Windows Start Menu and click on it. Scan the list to see if OpenSSH client is already installed. If not, then do so by clicking on &quot;Add a feature&quot;.</p><p>If you haven&#39;t got a local SSH key pair, you should create one.</p><pre><code class=language-PowerShell>ssh-keygen -t rsa -b 4096</code></pre><p>You can accept all defaults and keep the passphrase empty. It will result in a keypair generated in the <code>$HOME\.ssh\</code> folder which we will use later.</p><p><picture><source srcset="/images/ssh-keypair_s.avif 474w,/images/ssh-keypair_m.avif 711w,/images/ssh-keypair_l.avif 948w" type=image/avif><source srcset="/images/ssh-keypair_s.webp 474w,/images/ssh-keypair_m.webp 711w,/images/ssh-keypair_l.webp 948w" type=image/webp><img srcset="/images/ssh-keypair_s.jpg 474w,/images/ssh-keypair_m.jpg 711w,/images/ssh-keypair_l.jpg 948w" src=/images/ssh-keypair_s.jpg alt="Create your local SSH key pair" title="Create your local SSH key pair" loading=lazy decoding=async width=948 height=622><figcaption>Create your local SSH key pair</figcaption></picture></p><p>You are now ready to add your <em>local</em> key to the autorized keys on your <em>remote</em> machine. Run the following in PowerShell on your <em>local</em> machine.</p><pre><code class=language-PowerShell>$USER_AT_HOST=&quot;your-user-name-on-host@hostname&quot;
$PUBKEYPATH=&quot;$HOME\.ssh\id_rsa.pub&quot;

$pubKey=(Get-Content &quot;$PUBKEYPATH&quot; | Out-String); ssh &quot;$USER_AT_HOST&quot; &quot;mkdir -p ~/.ssh &amp;&amp; chmod 700 ~/.ssh &amp;&amp; echo &#39;${pubKey}&#39; &gt;&gt; ~/.ssh/authorized_keys &amp;&amp; chmod 600 ~/.ssh/authorized_keys&quot;</code></pre><p>And that&#39;s it. You can now SSH into your remote machine without needing a password.</p></section></article></main><footer><nav><ul><li><a href=/ title=Home>Home</a></li><li><a href=/pages/research title=Research>Research</a></li><li><a href=/pages/opensource title="Open Source">Open Source</a></li><li><a href=/pages/ventures title=Ventures>Ventures</a></li><li><a href=/pages/resume title=Resume>Resume</a></li><li><a href=/pages/about title=About>About</a></li><li><a href=/pages/now title=Now>Now</a></li><li><a href=/pages/contact title=Contact>Contact</a></li></ul></nav><ul><li><div itemscope itemtype=https://schema.org/Person><a itemprop=sameAs content=https://www.github.com/gijswijs href=https://www.github.com/gijswijs rel="noreferrer noopener me" target=_blank title=Github>Github</a></div></li><li><div itemscope itemtype=https://schema.org/Person><a itemprop=sameAs content=https://www.linkedin.com/in/gijsvandam/ href=https://www.linkedin.com/in/gijsvandam/ rel="noreferrer noopener me" target=_blank title=LinkedIn>LinkedIn</a></div></li><li><div itemscope itemtype=https://schema.org/Person><a itemprop=sameAs content=https://www.researchgate.net/profile/Gijs_Van_Dam2 href=https://www.researchgate.net/profile/Gijs_Van_Dam2 rel="noreferrer noopener me" target=_blank title=ResearchGate>ResearchGate</a></div></li><li><div itemscope itemtype=https://schema.org/Person><a itemprop=sameAs content=https://bitcoinhackers.org/@gijswijs href=https://bitcoinhackers.org/@gijswijs rel="noreferrer noopener me" target=_blank title=Mastodon>Mastodon</a></div></li><li><div itemscope itemtype=https://schema.org/Person><a itemprop=sameAs content=https://www.twitter.com/gijswijs href=https://www.twitter.com/gijswijs rel="noreferrer noopener me" target=_blank title=Twitter>Twitter</a></div></li><li><a href=/rss.xml rel="" target=_blank title=RSS>RSS</a></li><li><div itemscope itemtype=https://schema.org/Person><a itemprop=sameAs content=https://keybase.io/gijsvandam href=https://keybase.io/gijsvandam rel="noreferrer noopener me" target=_blank title=Keybase>Keybase</a></div></li><li><div itemscope itemtype=https://schema.org/Person><a itemprop=sameAs content=https://orcid.org/0000-0002-6188-6859 href=https://orcid.org/0000-0002-6188-6859 rel="noreferrer noopener me" target=_blank title=ORCID>ORCID</a></div></li><li><div itemscope itemtype=https://schema.org/Person><a itemprop=sameAs content="https://scholar.google.com/citations?user=4dTcK4kAAAAJ&amp;hl=en" href="https://scholar.google.com/citations?user=4dTcK4kAAAAJ&amp;hl=en" rel="noreferrer noopener me" target=_blank title="Google Scholar">Google Scholar</a></div></li></ul><p>&copy; 2021 <a href=/ >Gijs van Dam</a>. Published with <a href=https://github.com/neumannjs/Janos>Janos</a>. Theme <a href=https://github.com/neumannjs/Miksa>Miksa</a>.</p></footer></body><script data-goatcounter=https://gijsvandam.goatcounter.com/count async src=//gc.zgo.at/count.js></script></html>